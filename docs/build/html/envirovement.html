<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8"/>
    <title>Enviroment &#8212; DRAW 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css"/>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css"/>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html"/>
    <link rel="search" title="Search" href="search.html"/>
    <link rel="next" title="Config Parser" href="config_parser.html"/>
    <link rel="prev" title="DRAW Tools module" href="tools.html"/>

    <link rel="stylesheet" href="_static/custom.css" type="text/css"/>


    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9"/>

</head>
<body>


<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">


            <div class="body" role="main">

                <div class="section" id="enviroment">
                    <h1>Environment<a class="headerlink" href="#enviroment" title="Permalink to this headline">¶</a></h1>
                    <p>DRAW is dedicated to Linux machines.
                        To run DRAW, installation of Docker (recommended version 19.03.8) and Google Chrome (recommended version 81.0.4044.113) is required. All the instructions to
                        install Docker on Linux, can be find at the link below. Creating the Docker Group to run it instead of root is also required.
                        <a class="reference external" href="https://runnable.com/docker/install-docker-on-linux">https://runnable.com/docker/install-docker-on-linux</a>
                    </p>
                    <p>DRAW processes are runnig in enclosed Docker environment. Communicate with the host by publishing
                        ports (2000 to GUI and 5000 to Visualisations) and binding volumes,
                        which persist data generated by and used by Docker, these are input, config_files and output
                        directories. Docker is running in the interactive mode for User to see processes running inside the
                        container.
                        To run a process inside Docker container, the Docker image must me builded first. Once build Docker image exists on machine and can be accessed at any time.
                        It requires 2.2GB of disc space. To build and image execution of following bash script is needed. It calls bash command “build
                        -t draw .”</p>
                    <div class="highlight-default notranslate">
                        <div class="highlight"><pre><span></span>$ ./build.sh
</pre>
                        </div>
                    </div>
                    <p>Before running the Docker container input data must be placed in input directory for container to
                        see and access it.</p>
                    <p>To run the Docker container execution of run_docker.sh is involved. This script binds directories
                        input, config_files and output between Docker and host and publishes ports 2000 and 5000 to host
                        machine.
                        Thus Flask apps can be accessed from outside of the container.</p>
                    <div class="highlight-default notranslate">
                        <div class="highlight"><pre><span></span>$ ./run_docker
</pre>
                        </div>
                    </div>
                    <p>After starting the container GUI application to fill in the config file opens in browser and can
                        be accessed at the below URL:
                        <a class="reference external" href="http://0.0.0.0:2000/index">http://0.0.0.0:2000/index</a></p>
                    <p>After starting the container opens following web adress, URL at which visualizations are available
                        after the end of the analysis:
                        <a class="reference external" href="http://0.0.0.0:5000/bkapp">http://0.0.0.0:5000/bkapp</a></p>
                    <p>Docker can by stopped from running using Ctrl+C</p>
                    <p>Adresses used by apps can be already allocated to processes on a Linux machine. If encountering
                        an error “Adress is alredy in use” following command should work. It releases occupied ports.
                        $ sudo fuser -k Port_Number/tcp</p>
                    <p>Environment is based on Ubuntu:20.04</p>
                    <p>Three platfors are installed:
                        openjdk-8-jre=8u252-b09-1ubuntu1
                        python3=3.8.2-0ubuntu2 and python3-pip=20.0.2-5ubuntu1
                        r-base=3.6.3-2</p>
                    <p>Tools installed:</p>
                    <div class="highlight-default notranslate">
                        <div class="highlight"><pre><span></span><span class="n">bowtie2</span><span
                                class="o">=</span><span class="mf">2.3</span><span class="o">.</span><span class="mf">5.1</span><span
                                class="o">-</span><span class="mi">6</span><span class="n">build1</span> \
<span class="n">fastqc</span><span class="o">=</span><span class="mf">0.11</span><span class="o">.</span><span
                                    class="mi">9</span><span class="o">+</span><span class="n">dfsg</span><span
                                    class="o">-</span><span class="mi">2</span> \
<span class="n">hisat2</span><span class="o">=</span><span class="mf">2.1</span><span class="o">.</span><span
                                    class="mi">0</span><span class="o">-</span><span class="mi">4</span> \
<span class="n">igv</span><span class="o">=</span><span class="mf">2.4</span><span class="o">.</span><span
                                    class="mi">17</span><span class="o">+</span><span class="n">dfsg</span><span
                                    class="o">-</span><span class="mi">1</span> \
<span class="n">samtools</span><span class="o">=</span><span class="mf">1.10</span><span class="o">-</span><span
                                    class="mi">3</span> \
<span class="n">stringtie</span><span class="o">=</span><span class="mf">2.1</span><span class="o">.</span><span
                                    class="mi">1</span><span class="o">+</span><span class="n">ds</span><span class="o">-</span><span
                                    class="mi">2</span> \
<span class="n">wget</span><span class="o">=</span><span class="mf">1.20</span><span class="o">.</span><span class="mi">3</span><span
                                    class="o">-</span><span class="mi">1</span><span class="n">ubuntu1</span>
<span class="n">Trimmomatic</span><span class="o">-</span><span class="mf">0.39</span>
</pre>
                        </div>
                    </div>
                    <p>Python requirements:</p>
                    <div class="highlight-default notranslate">
                        <div class="highlight"><pre><span></span><span class="n">bokeh</span><span
                                class="o">==</span><span class="mf">2.0</span><span class="o">.</span><span
                                class="mi">2</span>
<span class="n">colorcet</span><span class="o">==</span><span class="mf">2.0</span><span class="o">.</span><span
                                    class="mi">2</span>
<span class="n">Flask</span><span class="o">==</span><span class="mf">1.1</span><span class="o">.</span><span
                                    class="mi">2</span>
<span class="n">matplotlib</span><span class="o">==</span><span class="mf">3.2</span><span class="o">.</span><span
                                    class="mi">1</span>
<span class="n">numpy</span><span class="o">==</span><span class="mf">1.18</span><span class="o">.</span><span
                                    class="mi">4</span>
<span class="n">pandas</span><span class="o">==</span><span class="mf">1.0</span><span class="o">.</span><span
                                    class="mi">3</span>
<span class="n">sklearn</span><span class="o">==</span><span class="mf">0.0</span>
</pre>
                        </div>
                    </div>
                    <p>R packages:</p>
                    <div class="highlight-default notranslate">
                        <div class="highlight"><pre><span></span><span class="n">BiocManager</span>
<span class="n">DESeq2</span>
</pre>
                        </div>
                    </div>
                    <p>All installations in Docker can be tested by executing test_installations_in_docker.sh inside
                        Docker container. It requires basic Docker knowledge.
                        At first two lines in Dockerfile should be uncommented (setting the workdir to tests and running
                        this script) and commented two lines running analysis (setting workdir to bin and running
                        gui_app.py).
                        Test performs during build and returns nothing if installation was right, otherwise it returns
                        informs what is wrong.</p>
                </div>
                <div class="section" id="indices-and-tables">
                    <h1>Indices and tables<a class="headerlink" href="#indices-and-tables"
                                             title="Permalink to this headline">¶</a></h1>
                    <ul class="simple">
                        <li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a>
                        </p></li>
                        <li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a>
                        </p></li>
                        <li><p><a class="reference internal" href="search.html"><span
                                class="std std-ref">Search Page</span></a></p></li>
                    </ul>
                </div>


            </div>

        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h1 class="logo"><a href="index.html">DRAW</a></h1>


            <h3>Navigation</h3>
            <p class="caption"><span class="caption-text">Contents:</span></p>
            <ul class="current">
                <li class="toctree-l1"><a class="reference internal" href="tools.html">DRAW Tools module</a></li>
                <li class="toctree-l1"><a class="reference internal" href="tools.html#module-tools">Tools</a></li>
                <li class="toctree-l1"><a class="reference internal" href="tools.html#indices-and-tables">Indices and
                    tables</a></li>
                <li class="toctree-l1 current"><a class="current reference internal" href="#">Enviroment</a></li>
                <li class="toctree-l1"><a class="reference internal" href="#indices-and-tables">Indices and tables</a>
                </li>
                <li class="toctree-l1"><a class="reference internal" href="config_parser.html">Config Parser</a></li>
                <li class="toctree-l1"><a class="reference internal" href="config_parser.html#module-config_parser">config_parser</a>
                </li>
                <li class="toctree-l1"><a class="reference internal" href="config_parser.html#indices-and-tables">Indices
                    and tables</a></li>
            </ul>

            <div class="relations">
                <h3>Related Topics</h3>
                <ul>
                    <li><a href="index.html">Documentation overview</a>
                        <ul>
                            <li>Previous: <a href="tools.html" title="previous chapter">DRAW Tools module</a></li>
                            <li>Next: <a href="config_parser.html" title="next chapter">Config Parser</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="searchbox" style="display: none" role="search">
                <h3 id="searchlabel">Quick search</h3>
                <div class="searchformwrapper">
                    <form class="search" action="search.html" method="get">
                        <input type="text" name="q" aria-labelledby="searchlabel"/>
                        <input type="submit" value="Go"/>
                    </form>
                </div>
            </div>
            <script>$('#searchbox').show(0);</script>


        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="footer">
    &copy;2020, Goździewska, Kiljan, Szymczak, Poziemski.

    |
    Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
    &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>

    |
    <a href="_sources/envirovement.rst.txt"
       rel="nofollow">Page source</a>
</div>


</body>
</html>
